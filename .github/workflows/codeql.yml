name: CodeQL Analysis

# NOTE: CodeQL does not support PHP. This workflow is disabled.
# CodeQL supports: JavaScript/TypeScript, Python, Java/Kotlin, C/C++, C#, Go, Ruby, Swift
# For PHP security analysis, use: psalm.yml, phpmd.yml, or plugin-check.yml

on:
  workflow_dispatch: # Only manual dispatch, not automatic

permissions:
  contents: read
  security-events: write
  actions: read

# Prevent multiple workflows from running simultaneously
concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

jobs:
  analyze:
    name: CodeQL Analysis (Disabled - PHP Not Supported)
    runs-on: ubuntu-latest
    timeout-minutes: 5
    permissions:
      contents: read
      security-events: write
      actions: read

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: CodeQL Not Available for PHP
        run: |
          echo "‚ö†Ô∏è CodeQL does not support PHP."
          echo "üìã CodeQL supports: JavaScript/TypeScript, Python, Java/Kotlin, C/C++, C#, Go, Ruby, Swift"
          echo "‚úÖ For PHP security analysis, use these workflows instead:"
          echo "   - psalm.yml (Psalm static analysis)"
          echo "   - phpmd.yml (PHP Mess Detector)"
          echo "   - plugin-check.yml (WordPress Plugin Check)"
          exit 0
