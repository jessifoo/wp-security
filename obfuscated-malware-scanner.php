<?php
/**
 * Plugin Name: Obfuscated Malware Scanner
 * Plugin URI: https://example.com/obfuscated-malware-scanner
 * Description: A WordPress plugin for real-time malware prevention and cleanup.
 * Version: 1.0.0
 * Author: Your Name
 * Author URI: https://example.com
 * License: GPL v2 or later
 * License URI: https://www.gnu.org/licenses/gpl-2.0.html
 * Text Domain: obfuscated-malware-scanner
 * Domain Path: /languages
 *
 * @package ObfuscatedMalwareScanner
 */

// If this file is called directly, abort.
if ( ! defined( 'ABSPATH' ) ) {
    die( 'Direct access is not allowed.' );
}

// Define plugin constants.
define( 'OMS_VERSION', '1.0.0' );
define( 'OMS_PLUGIN_DIR', plugin_dir_path( __FILE__ ) );
define( 'OMS_PLUGIN_URL', plugin_dir_url( __FILE__ ) );
define( 'OMS_PLUGIN_BASENAME', plugin_basename( __FILE__ ) );
define( 'OMS_NOTIFY_ADMIN', true );

// Load required files.
require_once OMS_PLUGIN_DIR . 'includes/class-oms-config.php';
require_once OMS_PLUGIN_DIR . 'includes/class-oms-cache.php';
require_once OMS_PLUGIN_DIR . 'includes/class-obfuscated-malware-scanner.php';
require_once OMS_PLUGIN_DIR . 'includes/class-oms-plugin.php';
require_once OMS_PLUGIN_DIR . 'admin/class-oms-admin.php';

/**
 * Begin execution of the plugin.
 */
function run_obfuscated_malware_scanner() {
    // Initialize the plugin core.
    $plugin = OMS_Plugin::get_instance();
    $plugin->init();

    // Initialize admin functionality if in admin area.
    if ( is_admin() ) {
        $admin = new OMS_Admin( 'obfuscated-malware-scanner', OMS_VERSION );
        
        // Add admin hooks.
        add_action( 'admin_enqueue_scripts', array( $admin, 'enqueue_styles' ) );
        add_action( 'admin_enqueue_scripts', array( $admin, 'enqueue_scripts' ) );
        add_action( 'admin_menu', array( $admin, 'add_options_page' ) );
    }
}

run_obfuscated_malware_scanner();
